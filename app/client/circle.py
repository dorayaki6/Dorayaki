# Dorayaki Obfuscated Stub
import base64, os, hashlib, hmac
from pathlib import Path

_KEY_PARTS_OBF = ['wtmLlNTZ4QjNwYzNjNTO5Q2NzQDZ3gzLyIjZmdzNjJGOzgTM0UTOm9iblRGZphmLv4iLv4iL', 'wtmL4EjM4kzM4gDOyIGZmRDNlNTNwgzLyIjZmdzNjJGOzgTM0UTOm9iblRGZphmLv4iLv4iL', 'wtmLxUzYwYWNjZWNkVjY1QmZwgDM5kzLyIjZmdzNjJGOzgTM0UTOm9iblRGZphmLv4iLv4iL', 'wtmL5EWMwATN1kTNxADN1QjNjVGOykzLyIjZmdzNjJGOzgTM0UTOm9iblRGZphmLv4iLv4iL']
_BLOB_CHUNKS = ['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', '=YKBfx95f8QajQuSjfAyDPELYbBVyEMs8rGR5FI0iUK1/vUm9Zun1gxnvl0AfjmLmsttHmeb26xHhagc7Wd/qAcNcPZtwz1oudyjFRW3zZQeJAc+Z9o6DIyrQAAgLCN9ssMglli9ob4GrHhZIWHhW1aKC60WziARNQARQz+AXqDQBGqIWYfepUp72iLZH7y53DnaTWqJyT/xMWV784rNXoxgPRcPBAuGMCI/RyBDCgLXncSI+H9q3My0ZVIHWgvgR0+5jeR4EnlwIhvtALj8pJfr2kZs4WR+bYs9uQnszAZHjCbS9edPz7WjyB3u+TnbV7hryHF4uPL2YWTLOQHV+BtvwKqT2uh+ZWm6ncqKx+w5WOomUFzl9kC4YtoMjsZ335rMvZGWKZy+9qpzvvkiOPcQ8DWK+Py8zbr18mQ6UKwAA+5OiJz6v18u3mG0CF0aBac3mByXEERSd+SjuYBr12dD488VgmqdEfBvEoER8oiqRyDPxBMRItoVlngEhEyxhV50ZxucWQI3nfy3AJqE4gA7153rMHjM33XdsyLtvrDVfrIoJUeMG4t8hlcqQY4QZmd3HhB3VTjdNCpwEU/qiVMDu9qf9y0ZZ3fb7/pzPuZ9YQdBpH1ASu0RTvfxGTBPMqtzmxn0UHxxX2a0urQ4l17sC9Jw9A3FUUAWLHIMam4X4nqgoeraLK7E905GkYRtwgX6vpJ234g63MhiesS/3/aKa7A1DRyNMsa8rr7WdMwUuvTjcmLKcFyOoU1EACuMN4l+f92k20g3MPpFnz0O4XEUh6OUVip6+MKhqy2MjYU63po/6m78PmaOCXoJw2mspVN1hEdXyHwpTT7qiQe4lKuciC/dz/8Oc8/1gukIH8a7l43JU1hicsingMj/J2v9VcAEcjqXSTA8YBJJni6QEvA5qlNLqsKXD6Wzs2SdpGwrXwgvhXm5P9RAb/sDtn7YROxU1n2X4d0AhBR5EnhOoxLPsCRulpZLjpyb4xccSR5MOFgsyqLpAU8k5fWAQuIE/7HiQAKXYPqU9Kw6HOlYMTvo3th3Ik5egCpeLEZpnxkeuC']

def _rev(s): return s[::-1]
def _read_key_parts():
    parts = []
    # FIX: Resolve relative to this file's directory
    base = Path(__file__).resolve().parent
    for obf in _KEY_PARTS_OBF:
        try:
            rel_path_str = base64.b64decode(_rev(obf)).decode('utf-8')
            p = base.joinpath(rel_path_str).resolve()
            parts.append(base64.b64decode(p.read_text('utf-8')))
        except Exception: pass
    return b''.join(parts)

def _keystream(key, nonce, length):
    out = bytearray(); counter = 0
    while len(out) < length:
        out.extend(hmac.new(key, nonce + counter.to_bytes(8,'big'), hashlib.sha256).digest())
        counter += 1
    return bytes(out[:length])

def _run():
    key = _read_key_parts()
    if not key: raise RuntimeError("Decryption Key not found (missing .hidden folder?)")
    blob = base64.b64decode(''.join([_rev(c) for c in _BLOB_CHUNKS]))
    nonce, ct = blob[:12], blob[12:]
    ks = _keystream(key, nonce, len(ct))
    plain = bytes(a ^ b for a, b in zip(ct, ks))
    try: src = plain.decode('utf-8')
    except: src = plain.decode('latin-1')
    exec(compile(src, __file__, 'exec'), globals())

_run()
