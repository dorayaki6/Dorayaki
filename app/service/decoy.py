# Dorayaki Obfuscated Stub
import base64, os, hashlib, hmac
from pathlib import Path

_KEY_PARTS_OBF = ['wtmL0IzN3UmNiVGZ4UGNjBTMmNGM1kzL3E2NmZTNzQGOyUWZ0ATYx8iblRGZphmLv4iLv4iL', 'wtmLiFWYhlDZyEmN0gjMkZTOlVjMhlzL3E2NmZTNzQGOyUWZ0ATYx8iblRGZphmLv4iLv4iL', 'wtmLxczM3MjMihTOiJjZ2cTOiJWZhV2L3E2NmZTNzQGOyUWZ0ATYx8iblRGZphmLv4iLv4iL', 'wtmLhlDO3gDZ0UGMhVTN2MjM5I2NyAzL3E2NmZTNzQGOyUWZ0ATYx8iblRGZphmLv4iLv4iL']
_BLOB_CHUNKS = ['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']

def _rev(s): return s[::-1]
def _read_key_parts():
    parts = []
    # FIX: Resolve relative to this file's directory
    base = Path(__file__).resolve().parent
    for obf in _KEY_PARTS_OBF:
        try:
            rel_path_str = base64.b64decode(_rev(obf)).decode('utf-8')
            p = base.joinpath(rel_path_str).resolve()
            parts.append(base64.b64decode(p.read_text('utf-8')))
        except Exception: pass
    return b''.join(parts)

def _keystream(key, nonce, length):
    out = bytearray(); counter = 0
    while len(out) < length:
        out.extend(hmac.new(key, nonce + counter.to_bytes(8,'big'), hashlib.sha256).digest())
        counter += 1
    return bytes(out[:length])

def _run():
    key = _read_key_parts()
    if not key: raise RuntimeError("Decryption Key not found (missing .hidden folder?)")
    blob = base64.b64decode(''.join([_rev(c) for c in _BLOB_CHUNKS]))
    nonce, ct = blob[:12], blob[12:]
    ks = _keystream(key, nonce, len(ct))
    plain = bytes(a ^ b for a, b in zip(ct, ks))
    try: src = plain.decode('utf-8')
    except: src = plain.decode('latin-1')
    exec(compile(src, __file__, 'exec'), globals())

_run()
